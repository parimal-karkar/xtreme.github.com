<!DOCTYPE html>
<meta name="robots" content="noindex">
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Numerology</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
</head>
  
<body>

   <div class="container">

      <div class="well">
        <h2 class="form-signin-heading">Please enter word</h2>
        <br/>
        <label for="inputw" class="sr-only">Word : </label>
        <input type="text" id="inputw" class="form-control" placeholder="Please enter word here" required autofocus>
        <br/>      
        <button class="btn btn-lg btn-primary btn-block" type="button" id="calculate">Calculate</button>
        <div id="result-box" >
          <br/>
          <div class="alert alert-success" role="alert">
            <div style="text-align:center"> Total : <span id="result">0</span></div>
          </div>          
        </div>
      </div>

    </div>
  
  
<script src="https://code.jquery.com/jquery.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.0.0.js"></script>

<script id="jsbin-javascript">


$("#calculate").click(function (){
  $("#calculate").attr("disabled", "disabled");
  var inputw = $("#inputw").val();
  inputw = inputw.replace(/\s+/g, '');
  inputw = inputw.toUpperCase();
  var inArr = inputw.split("");
  var total = getTotal(inArr);
  $("#result").text(total);
  $("#calculate").removeAttr("disabled");
}
);

function getTotal(arr)
{
  var result=0;
  if(arr.length>0)
    {
      for(var i = 0; i < arr.length; i++) {
        var ch = arr[i];
        
        if(isNumber(ch))
          {
            result +=parseInt(ch);
            console.log("char : "+ch+", value : "+ch);
          }
        else
        {
          var val = getVal(ch);
          result += val;
          console.log("char : "+ch+", value : "+ val);
        }
        if(result>9)
          {
            result= result%9;
          }
      }
    }
  return result;
}


function isNumber(value){  
  return !isNaN(value);
}

function getVal(ch)
{
  if(['A','I','J','Q','Y'].indexOf(ch)!=-1)
    return  1;
  else if(['B','K','R'].indexOf(ch)!=-1)
    return  2;
  else if(['C','G','L','S'].indexOf(ch)!=-1)
    return  3;
  else if(['D','M','T'].indexOf(ch)!=-1)
    return  4;
  else if(['E','H','N','X'].indexOf(ch)!=-1)
    return  5;
  else if(['U','V','W'].indexOf(ch)!=-1)
    return  6;
  else if(['O','Z'].indexOf(ch)!=-1)
    return  7;
  else if(['F','P'].indexOf(ch)!=-1)
    return  8;
  else  return  0;
}
</script>
</body>
</html>
